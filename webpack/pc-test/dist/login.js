webpackJsonp([3],{"0":function(n,e,o){o(1),n.exports=o(507)},"482":function(n,e){},"484":function(n,e){},"490":function(n,e){"use strict";function o(n){return/^1[3|4|5|6|7|8|9][0-9]{9}$/.test(n)}function t(n){return/^[0-9A-Za-z!#$%^&*]{6,20}$/.test(n)}e.verifyPhone=o,e.verifyPwd=t,Object.defineProperty(e,"__esModule",{"value":!0})},"491":function(n,e,o){"use strict";function t(n){var e=n.username,o=n.password;return new Promise(function(n,t){e&&o||t("未输入账号或密码"),s({"url":c+"/login","data":{"username":e,"password":o}}).then(function(e){n(e)})["catch"](function(n){t(n)})})}function r(n){var e=n.telephone,o=n.code;return new Promise(function(n,t){e&&o||t("参数不齐"),s({"url":c+"/verifyCode","data":{"telephone":e,"code":o},"xhrFields":{"withCredentials":!0},"crossDomain":!0}).then(function(e){n(e)})["catch"](function(n){t(n)})})}function i(n){var e=n.telephone,o=n.randomCode;return new Promise(function(n,t){e&&o||t("参数不齐"),s({"url":c+"/verifyMessage","data":{"telephone":e,"randomCode":o}}).then(function(e){n(e)})["catch"](function(n){t(n)})})}function a(n){var e=n.telephone,o=n.randomCodeTwo,t=n.password;return new Promise(function(n,r){e&&o&&t||r("参数不齐"),s({"url":c+"/changePassword","data":{"telephone":e,"randomCodeTwo":o,"password":t}}).then(function(e){n(e)})["catch"](function(n){r(n)})})}e.login=t,e.verifyCodeApi=r,e.verifyMessageApi=i,e.changePasswordApi=a,Object.defineProperty(e,"__esModule",{"value":!0});var c=o(337).webRoot,s=o(473)._req},"507":function(n,e,o){"use strict";o(482),o(484);var t=function(n){return n&&n.__esModule?n["default"]:n}(o(338)),r=o(491).login,i=o(490).verifyPhone;$(".header-mc .h-title").text("会员登录"),$(".header-mc .loginp").css("display","block"),$(function(){$(".userName").bind("input propertychange",function(){$(".phoneErr").html(""),""!=$(".pass").val()&&$(".loginBtn").prop("disabled",!1).css({"background":"#2FBA66"})}),$(".pass").bind("input propertychange",function(){$(".phoneErr").html(""),""!=$(".userName").val()&&$(".loginBtn").prop("disabled",!1).css({"background":"#2FBA66"})}),$(".loginBtn").click(function(){var n=$.trim($(".userName").val()),e=$.trim($(".pass").val());if(!i(n))return $(".r .phoneErr").html("手机号格式不正确，请输入正确的手机号"),!1;layui.use("layer",function(){r({"username":n,"password":e}).then(function(n){if(!n.success)return $(".r .phoneErr").html(n.msg),$(".loginBtn").prop("disabled","disabled"),!1;layer.msg("阿康欢迎您！",{"icon":1,"time":1e3},function(){window.location.href="/"});var e=window.location.host;e=-1==e.indexOf(".ak1ak1.com")?"":".ak1ak1.com",t.set("memberId",JSON.stringify(n.memberID),{"expires":7,"path":"/","domain":e})})["catch"](function(n){console.log("登录失败",n),layer.msg("登录失败,服务出错",{"icon":2,"time":1e3},function(){})})})})})}});