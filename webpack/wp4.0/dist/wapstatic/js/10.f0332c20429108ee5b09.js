webpackJsonp([10],{"+VgN":function(t,s){},Kqtg:function(t,s){},Q37x:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=e("wSez"),a={name:"order_detail",data:function(){return{flag:!1,orderId:this.$route.query.id,orderInfo:"",curOrderList:this.$store.state.orderInfo?JSON.parse(this.$store.state.orderInfo):""}},filters:{orderStatusFilter:function(t){return 1==t||9==t?"待付款":3==t||2==t?"待发货":4==t?"待收货":5==t||6==t||7==t?"已完成":5==t||6==t?"已收货":8==t?"已取消":void 0}},computed:{isShowBot:function(){var t=this.curOrderList.orderStatus;return!!t&&(4!=t&&5!=t&&6!=t&&7!=t&&8!=t)}},components:{"mt-header":r.Header,"mt-button":r.Button},mounted:function(){this.$emit("changeClass",!1)},destroyed:function(){this.$emit("changeClass",!0)},created:function(){},methods:{btnSave:function(){console.log("点击确定")},jumpExpress:function(){this.$router.push({path:"/order/express"})},jumpDetail:function(t){this.$router.replace({path:"/product_detail",query:{proid:t.productID}})},removeOrder:function(t){var s=this;this.flag||r.MessageBox.confirm("确定执行此操作?").then(function(e){s.flag=!0,s.$ajax({url:s.webRoot+"/order/updateOrderStatusByCancel",data:{orderId:t.orderID}}).then(function(e){s.$options.methods.showToast(e.data.msg),s.flag=!1,e.data.success&&(t.orderStatus=8,s.$emit("cUpdata",t),setTimeout(function(){s.$router.replace({path:"/order"})},1e3))}).catch(function(t){console.log(t),s.flag=!1})})},takeDelivery:function(t){var s=this;if(this.flag)return!1;r.MessageBox.confirm("确定执行此操作?").then(function(e){s.flag=!0,s.$ajax({url:s.webRoot+"/order/updateOrderStatusByConfirmReceipt",data:{orderId:t.orderID}}).then(function(t){if(!t.data.success)return s.$options.methods.showToast(t.data.msg),s.flag=!1,!1;s.$options.methods.showToast(t.data.msg),setTimeout(function(){s.$router.replace({path:"/order"}),s.flag=!1},1e3)}).catch(function(t){console.log(t)})}).catch(function(t){})},goBack:function(){this.$router.go(-1)},showToast:function(t,s){s=s||2e3;Object(r.Toast)({message:t,position:"center",duration:s})}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"wrap has_header_wrap c_wrap"},[e("section",{staticClass:"wrap_in"},[e("mt-header",{attrs:{fixed:"",title:"订单详情"}},[e("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(s){return s.preventDefault(),t.goBack(s)}},slot:"left"})],1),t._v(" "),e("section",{class:{hpb:t.isShowBot}},[e("div",{staticClass:"order_state"},[e("div",[t._v("订单状态："+t._s(t._f("orderStatusFilter")(t.curOrderList.orderStatus)))]),t._v(" "),e("div",[1==t.curOrderList.orderStatus?e("mt-button",{attrs:{type:"primary",size:"small"}},[t._v("支付")]):t._e(),t._v(" "),4==t.curOrderList.orderStatus?e("mt-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){t.takeDelivery(t.curOrderList)}}},[t._v("确认收货")]):t._e()],1)]),t._v(" "),e("div",{staticClass:"infos"},[e("p",[t._v("订单编号："),e("span",[t._v(t._s(t.curOrderList.orderCode))])]),t._v(" "),e("p",[t._v("下单时间："),e("span",[t._v(t._s(t.curOrderList.orderDate))])])]),t._v(" "),e("div",{staticClass:"infos"},[e("p",[t._v("收货人："),e("span",[t._v(t._s(t.curOrderList.contactMan))])]),t._v(" "),e("p",{staticClass:"address"},[t._v("收货地址："),e("span",[t._v(t._s(t.curOrderList.deliveryAddress))])])]),t._v(" "),e("div",{staticClass:"order_list"},t._l(t.curOrderList.orderDetails,function(s,r){return e("div",{staticClass:"item_list d_flex",on:{click:function(e){t.jumpDetail(s)}}},[e("div",{staticClass:"list_img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.productUrl,expression:"od.productUrl"}],attrs:{alt:s.productName}})]),t._v(" "),e("div",{staticClass:"list_info"},[e("div",{staticClass:"li_top d_flex"},[e("h3",[t._v(t._s(s.productName))]),t._v(" "),e("p",[t._v(t._s(s.amt?"￥"+s.amt:""))])]),t._v(" "),e("div",{staticClass:"li_bottom d_flex"},[e("span",[t._v(t._s(s.productProperty))]),t._v(" "),e("span",[t._v(t._s(s.qty?"X"+s.qty:""))])])])])})),t._v(" "),e("div",{staticClass:"pay_ways"},[e("div",{staticClass:"way"},[e("span",[t._v("支付方式：")]),e("span",[t._v(t._s(t.curOrderList.payMode?t.curOrderList.payMode.modeName:""))])]),t._v(" "),e("div",{staticClass:"way_info d_flex"},[e("div",[e("p",[t._v("配送方式："),e("span",[t._v(t._s(t.curOrderList.logistics?t.curOrderList.logistics.logisticsName:""))])]),t._v(" "),e("p",[t._v("快递单号："),e("span",[t._v(t._s(t.curOrderList.logisticsNumber))])])]),t._v(" "),e("div",[e("mt-button",{attrs:{type:"default",size:"small",plain:""},on:{click:function(s){t.jumpExpress(t.curOrderList)}}},[t._v("查看物流")])],1)])]),t._v(" "),e("div",{staticClass:"counts"},[e("p",{staticClass:"d_flex"},[e("span",[t._v("商品总额： ")]),e("span",[t._v(t._s(t.curOrderList.needAmt||0==t.curOrderList.needAmt?"￥"+t.curOrderList.needAmt:""))])]),t._v(" "),e("p",{staticClass:"d_flex"},[e("span",[t._v("运费： ")]),e("span",[t._v("+ ￥"+t._s(t.curOrderList.chargeDiscount)+"  ")])]),t._v(" "),e("p",{staticClass:"d_flex"},[e("span",[t._v("促销立减： ")]),e("span",[t._v("- ￥"),t._v(t._s(t.curOrderList.manualDeduction))])]),t._v(" "),e("p",{staticClass:"d_flex"},[e("span",[t._v("运费减免： ")]),e("span",[t._v("- ￥"+t._s(t.curOrderList.chargeDiscount))])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"all_count"},[e("p",[t._v("实付金额："),e("i",{staticClass:"r_color"},[t._v(t._s(t.curOrderList.amtDiscount||0==t.curOrderList.amtDiscount?"￥"+t.curOrderList.amtDiscount:""))])])]),t._v(" "),t._m(1)])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBot,expression:"isShowBot"}],staticClass:"bot_btns"},[e("mt-button",{staticClass:"cancel",attrs:{type:"default"},on:{click:function(s){t.removeOrder(t.curOrderList)}}},[t._v("取消")])],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"d_flex"},[s("span",[this._v("折扣小计： ")]),s("span",[this._v("- ￥0.00")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"count_btns d_flex"},[s("a",{attrs:{href:"http://vipwebchat.tq.cn/pageinfo.jsp?version=vip&admiuin=9815275&ltype=1&iscallback=0&page_templete_id=122543&is_message_sms=0&is_send_mail=0&action=acd&acd=1&type_code=123"}},[s("span",[this._v("在线客服")])]),this._v(" "),s("a",{attrs:{href:"tel:400-9309-990"}},[s("span",[this._v("客服电话")])])])}]};var o=e("vSla")(a,i,!1,function(t){e("Kqtg"),e("+VgN")},"data-v-38553246",null);s.default=o.exports}});
//# sourceMappingURL=10.f0332c20429108ee5b09.js.map