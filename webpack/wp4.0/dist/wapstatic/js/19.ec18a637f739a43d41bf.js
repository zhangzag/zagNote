webpackJsonp([19],{"1FFT":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3cXf"),i=s.n(a),n=s("wSez"),o=s("AG0B"),r=s("AEmT"),l={name:"myinfo",data:function(){return{isUnscRollable:!1,backParentPage:!1,pendingPaymentNum:"",personalInfo:this.$store.state.memberInfo}},props:[],components:{"mt-header":n.Header,"mt-button":n.Button,"mt-badge":n.Badge,comFoot:r.a,comHeaderTitle:o.a},created:function(){var t=this;this.$options.methods.getMemberInfo(this),this.$ajax({url:t.webRoot+"/order/getOrderByMemberIdAndStatus",data:i()({memberId:t.$store.state.memberId,status:[1,9]}),headers:{"Content-Type":"application/json;charset=utf-8"},transformRequest:[function(t){return t}]}).then(function(e){e.data.success?t.pendingPaymentNum=e.data.data.length:console.log(e.data.msg)}).catch(function(t){console.log(t)})},mounted:function(){this.$emit("changeClass",!1)},updated:function(){this.$nextTick(function(){this.personalInfo=this.$store.state.memberInfo})},destroyed:function(){this.$emit("changeClass",!0)},methods:{jumpOrder:function(t){this.$router.push({path:"/order",query:{pid:t}})},updateInfoChild:function(t){this.personalInfo=t},getMemberInfo:function(t){t.$ajax({url:t.webRoot+"/vipSearchByID",data:{id:t.$store.state.memberId}}).then(function(e){e.data||console.log("获取个人信息失败"),t.$store.commit("add",{addMemberInfo:e.data})}).catch(function(t){console.log(t)})},showToast:function(t,e){e=e||2e3;Object(n.Toast)({message:t,position:"center",duration:e})},changeClassOne:function(t){t?(this.backParentPage=!0,this.isUnscRollable=!1):(this.backParentPage=!1,this.isUnscRollable=!0)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"wrap"},[s("section",{staticClass:"wrap_in",class:{unscrollable:t.isUnscRollable}},[s("com-header",{attrs:{titles:"个人中心"}},[s("template",{slot:"style-def"})],2),t._v(" "),s("div",{staticClass:"my_info"},[s("div",{staticClass:"m_img"},[s("router-link",{attrs:{to:"myinfo/info"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.personalInfo.picURL,expression:"personalInfo.picURL"}],attrs:{alt:""}})])],1),t._v(" "),s("div",{staticClass:"m_info"},[s("h3",[s("router-link",{attrs:{to:"myinfo/info"}},[t._v(t._s(t.personalInfo.memberName))])],1),t._v(" "),s("p",[t._v(t._s(t.personalInfo.vipGradeName?t.personalInfo.vipGradeName:"普通会员"))])])]),t._v(" "),s("div",{staticClass:"order_fun"},[s("div",{staticClass:"item",on:{click:function(e){t.jumpOrder(2)}}},[s("div",[s("mt-badge",{attrs:{size:"small",type:"error"}},[t._v(t._s(t.pendingPaymentNum?t.pendingPaymentNum:"0"))])],1),t._v(" "),s("p",[t._v("待付款")])]),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"item wait_send",on:{click:function(e){t.jumpOrder(3)}}},[s("div"),t._v(" "),s("p",[t._v("待发货")])]),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"item wait_take",on:{click:function(e){t.jumpOrder(4)}}},[s("div"),t._v(" "),s("p",[t._v("待收货")])]),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"item finished",on:{click:function(e){t.jumpOrder(5)}}},[s("div"),t._v(" "),s("p",[t._v("已完成")])])]),t._v(" "),s("div",{staticClass:"lists all_order"},[s("router-link",{attrs:{to:"/order"}},[s("i"),t._v("全部订单")])],1),t._v(" "),s("div",{staticClass:"lists collect"},[s("router-link",{attrs:{to:"myinfo/collect"}},[s("i"),t._v("我的收藏")])],1),t._v(" "),s("div",{staticClass:"lists register"},[s("router-link",{attrs:{to:"myinfo/register"}},[s("i"),t._v("需求登记")])],1),t._v(" "),s("div",{staticClass:"lists cfj"},[s("router-link",{attrs:{to:"prescript"}},[s("i"),t._v("处方笺")])],1),t._v(" "),s("div",{staticClass:"lists address"},[s("router-link",{attrs:{to:"myinfo/address"}},[s("i"),t._v("收货地址")])],1),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"lists server"},[s("router-link",{attrs:{to:"myinfo/sale_server"}},[s("i"),t._v("售后服务")])],1),t._v(" "),s("div",{staticClass:"lists setup"},[s("router-link",{attrs:{to:"myinfo/setting"}},[s("i"),t._v("设置")])],1),t._v(" "),s("com-foot")],1),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("router-view",{on:{changeClass:t.changeClassOne,updateInfo:t.updateInfoChild}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lists consult "},[e("a",{attrs:{href:"http://vipwebchat.tq.cn/pageinfo.jsp?version=vip&admiuin=9815275&ltype=1&iscallback=0&page_templete_id=122543&is_message_sms=0&is_send_mail=0&action=acd&acd=1&type_code=123"}},[e("i"),this._v("在线咨询")])])}]};var d=s("vSla")(l,c,!1,function(t){s("5qY9")},"data-v-85d3a61a",null);e.default=d.exports},"5qY9":function(t,e){}});
//# sourceMappingURL=19.ec18a637f739a43d41bf.js.map