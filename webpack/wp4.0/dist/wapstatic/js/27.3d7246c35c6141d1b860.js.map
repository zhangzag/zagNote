{"version":3,"sources":["webpack:///src/components/Myinfo/Collect.vue","webpack:///./src/components/Myinfo/Collect.vue?97ec","webpack:///./src/components/Myinfo/Collect.vue"],"names":["Collect","_name$data$components","name","data","flag","showBtnDelect","editHtml","list","page","loading","showLoadAnimate","chooseArr","components","comHeaderTitle","ComHeaderTitle","mt-checklist","mint_ui_common","mt-button","Toast","mt-spinner","filters","watch","chooseAll","document","getElementById","this","length","checked","computed","isNothing","$data","defineProperty_default","priceFilter","Number","toFixed","$emit","loadMore","_this","_self","setTimeout","$ajax","url","webRoot","memberId","$store","state","limit","then","res","date","$options","methods","showToast","success","i","push","msg","catch","err","console","log","ele","getElementsByName","clickInput","forEach","value","index","array","edit","btnDelectOne","item","confirm","action","stringify_default","favoriteIds","favoriteID","headers","Content-Type","transformRequest","splice","declectAll","delList","delIndex","window","location","reload","time","Object","message","position","duration","Myinfo_Collect","render","_vm","_h","$createElement","_c","staticClass","attrs","titles","slot","_v","class","ischeckbox","id","type","on","click","_s","hpd","directives","rawName","expression","infinite-scroll-disabled","infinite-scroll-distance","_l","lt","domProps","product","photodURL","alt","productName","to","path","query","proid","productID","spec","_f","ourPrice","$event","_e","color","size","plain","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/27.3d7246c35c6141d1b860.js","sourcesContent":["<template>\t\r\n<section class=\"wrap has_header_wrap c_wrap\">\r\n\t<!-- 头部标题 -->\r\n\t<com-header titles=\"我的收藏\">\r\n\t\t<template  slot=\"style-def\"></template>\r\n\t</com-header>\r\n\t<!-- 头部标题 end -->\r\n\t\r\n\t<div class=\"collect_count d_flex\" :class=\"editHtml=='完成'?'edit':''\">\r\n\t\t<div>\r\n\t\t\t<label ischeckbox >\r\n\t\t\t\t<input id=\"chooseAll\" type=\"checkbox\" @click=\"chooseAll\" />\r\n\t\t\t\t<i></i>\r\n\t\t\t\t<span>收藏共{{list.length}}件</span>\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t\t<button @click=\"edit\">{{ editHtml }}</button>\r\n\t</div>\r\n\t\r\n\t<div class=\"collect_list\" :class=\"{hpd: showBtnDelect}\">\r\n\t\t<div class=\"lists\">\r\n\t\t\t<ul\r\n\t\t\t\tv-infinite-scroll=\"loadMore\"\r\n\t\t\t\tinfinite-scroll-disabled=\"loading\"\r\n  \t\t\t\tinfinite-scroll-distance=\"10\">\r\n\t\t\t\t<li class=\"d_flex\" v-for=\"(lt,index) in list\">\r\n\t\t\t\t\t<div class=\"left d_flex\">\r\n\t\t\t\t\t\t<label ischeckbox >\r\n\t\t\t\t\t\t\t<input @click=\"clickInput\" :value=\"index\" name=\"collect_item\" type=\"checkbox\" />\r\n\t\t\t\t\t\t\t<i></i>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"right d_flex\">\r\n\t\t\t\t\t\t<div class=\"c_img\">\r\n\t\t\t\t\t\t\t<img v-lazy=\"lt.product?lt.product.photodURL:'erro'\" :alt=\"lt.product.productName\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<router-link :to=\"{path:'/product_detail',query:{proid:lt.product.productID}}\" class=\"c_info\">\r\n\t\t\t\t\t\t\t<p>{{ lt.product.productName }}</p>\r\n\t\t\t\t\t\t\t<span class=\"spec\">{{ lt.product.spec }}</span>\r\n\t\t\t\t\t\t\t<!-- 暂不需要 \r\n\t\t\t\t\t\t\t\t<span class=\"sales c_wran\"><i>秒杀</i>即将结束</span> -->\r\n\t\t\t\t\t\t\t<h3 class=\"r_color\">{{ lt.product.ourPrice | priceFilter }}</h3>\r\n\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t<div class=\"btn_delect\">\r\n\t\t\t\t\t\t\t<button @click=\"btnDelectOne(lt,index)\" class=\"btn_delect\" v-if=\"showBtnDelect\" ></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<!-- 加载动画 -->\r\n\t\t<div id=\"loadAnimate\" v-show=\"showLoadAnimate\">\r\n\t\t\t<div>\r\n\t\t\t\t<mt-spinner type=\"snake\" color=\"#ddd\"></mt-spinner>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- 加载动画 end -->\r\n\t</div>\r\n\r\n\t<!-- 没有更多数据 -->\r\n\t<div id=\"nothing\" v-show=\"!isNothing\">\r\n\t\t<p>\r\n\t\t\t<span>收藏夹还空空如也哦</span>\r\n\t\t\t<router-link to=\"/product\">去逛逛</router-link>\r\n\t\t</p>\r\n\t</div>\r\n\t<!-- 没有跟多数据 end -->\r\n\t<!-- 删除全部 -->\r\n\t<div class=\"delect_block\" v-if=\"showBtnDelect\">\r\n\t\t<mt-button type=\"default\" size=\"small\" plain @click=\"declectAll\">删除</mt-button>\r\n\t</div>\r\n\t<!-- 删除全部 end -->\r\n</section>\r\n</template>\r\n\r\n<script>\r\nimport comHeaderTitle from '@/components/Common/ComHeaderTitle';\r\nimport comFoot from '@/components/Common/ComFoot';\r\nimport { Checklist, Button, MessageBox, Toast, InfiniteScroll, Spinner } from 'mint-ui';\r\n\r\nexport default {\r\n\tname: 'info',\r\n\tdata (){\r\n\t\treturn {\r\n\t\t\tflag: false,//\r\n\t\t    showBtnDelect: false, // 点击编辑显示删除\r\n\t\t    editHtml: '编辑', //编辑按钮文字\r\n\t\t    list: [],//列表\r\n\t\t    page: 1,//页数\r\n\t\t\tloading: false,//无限加载\r\n\t\t\tshowLoadAnimate: false,//加载动画\r\n\t\t\tchooseArr: [],//选中的\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tcomHeaderTitle, // 公共头部标题\r\n\t\t'mt-checklist': Checklist,\r\n\t\t'mt-button': Button,\r\n\t\tToast,\r\n\t\t'mt-spinner': Spinner,\r\n\t},\r\n\tfilters: {\r\n\t\t\r\n\t},\r\n\twatch: {\r\n\t\t//全选\r\n\t\tchooseArr (){\r\n\t\t\tvar chooseAll = document.getElementById(\"chooseAll\");\r\n\t\t\tif( this.chooseArr.length == this.list.length ){\r\n\t\t\t\tchooseAll.checked = true;\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\tchooseAll.checked = false;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t//是否有数据\r\n\t\tisNothing (){\r\n\t\t\tif(this.$data.list.length>0){\r\n\t\t\t\treturn this.$data.list.length;\r\n\t\t\t}else{\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tfilters: {\r\n\t\t//价格\r\n\t\tpriceFilter ( data ){\r\n\t\t\treturn '￥' + Number(data).toFixed(2);\r\n\t\t}\r\n\t},\r\n\tcreated (){\r\n\t\tconst _self = this;\r\n\t},\r\n\tmounted (){\r\n\t\tconst _self = this;\r\n\t\tthis.$emit('changeClass',false);\r\n\t},\r\n\tdestroyed (){\r\n\t\tthis.$emit('changeClass',true);\r\n\t},\r\n\tmethods: {\r\n\t\t//无限加载\r\n\t\tloadMore() {\r\n\t\t  const _self = this;\r\n\t\t  this.loading = true;\r\n\t\t  this.showLoadAnimate = true;\r\n\t\t  // console.log(_self.page)\r\n\r\n\t\t  setTimeout(() => {\r\n\t\t    this.$ajax({\r\n\t\t\t\turl: _self.webRoot + '/favorite/getFavoriteList',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tmemberId: _self.$store.state.memberId,\r\n\t\t\t\t\tlimit: 10 ,\r\n\t\t\t\t\tpage: _self.page,\r\n\t\t\t\t\tloading: false,//无限加载\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(function(res){\r\n\t\t\t\tif( res.data.date.length === 0 ){\r\n\t\t\t\t\t_self.$options.methods.showToast( '没有更多了!' );\r\n\t\t\t\t\t_self.showLoadAnimate = false;\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('加载： ',res.data.date.length)\r\n\t\t\t\tif( res.data.success ){\r\n\t\t\t\t\tfor( let i=0; i<res.data.date.length; i++ ){\r\n\t\t\t\t\t\t_self.list.push(res.data.date[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// _self.list = res.data.date;\r\n\t\t\t\t\t_self.page++;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t_self.$options.methods.showToast( res.data.msg );\r\n\t\t\t\t}\r\n\t\t\t\t_self.loading = false;\r\n\t\t\t\t_self.showLoadAnimate = false;\r\n\t\t\t})\r\n\t\t\t.catch(function(err){\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t});\r\n\r\n\t\t    // this.loading = false;\r\n\t\t  }, 1000);\r\n\t\t},\r\n\t\t//全选\r\n\t\tchooseAll (){\r\n\t\t\tvar ele = document.getElementsByName(\"collect_item\");\r\n\t\t\tvar chooseAll = document.getElementById(\"chooseAll\");\r\n\r\n\t\t\tif( chooseAll.checked ){\r\n\t\t\t\tfor (var i = 0; i < ele.length; i++) {\r\n\t\t\t\t\tele[i].checked = true;\r\n\t\t\t\t}\t\r\n\t\t\t}else{\r\n\t\t\t\tfor (var i = 0; i < ele.length; i++) {\r\n\t\t\t\t\tele[i].checked = false;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\t// console.log(chooseAll.checked)\r\n\t\t},\r\n\t\t//点击单选\r\n\t\tclickInput (){\r\n\t\t\tconst _self = this;\r\n\t\t\tvar ele = document.getElementsByName(\"collect_item\");\r\n\t\t\tvar chooseAll = document.getElementById(\"chooseAll\");\r\n\r\n\t\t\t_self.chooseArr = [];\r\n\t\t\tele.forEach(function(value,index,array){\r\n\t\t\t\t// console.log(array[index].checked)\r\n\t\t\t\tif(array[index].checked){\r\n\t\t\t\t\t_self.chooseArr.push(index);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//编辑\r\n\t\tedit (){\r\n\t\t\tthis.editHtml = this.editHtml=='编辑'?'完成':'编辑';\r\n\t\t\tthis.showBtnDelect = !this.showBtnDelect;\r\n\t\t},\r\n\t\t//删除单个\r\n\t\tbtnDelectOne ( item, index ){\r\n\t\t\tconst _self = this;\r\n\r\n\t\t\tif(this.flag){return false;}\r\n\t\t\tthis.flag = true;\r\n\t\t\tMessageBox.confirm('确定执行此操作?').then(action => {\r\n\t\t\t  // console.log('确定删除'+action,item, index)\r\n\t\t\t  _self.$ajax({\r\n\t\t\t  \turl: _self.webRoot + '/favorite/delFavorite',\r\n\t\t\t  \tdata: JSON.stringify({\r\n\t\t\t  \t\tmemberId: _self.$store.state.memberId,\r\n\t\t\t  \t\tfavoriteIds: [ item.favoriteID ],\r\n\t\t\t  \t}),\r\n\t\t\t  \theaders: {'Content-Type' : 'application/json;charset=utf-8'},\r\n\t\t\t  \ttransformRequest: [function (data) {\r\n\t\t\t\t\t\treturn data\r\n\t\t\t\t}]\r\n\t\t\t  })\r\n\t\t\t  .then(function(res){\r\n\t\t\t  \t// console.log(res)\r\n\t\t\t  \tif( res.data.success ){\r\n\t\t\t  \t\t_self.list.splice(index,1);\r\n\t\t\t  \t}\r\n\t\t  \t\t_self.$options.methods.showToast(res.data.msg);\r\n\t\t  \t\t_self.flag = false;\r\n\t\t\t  })\r\n\t\t\t  .catch(function(err){\r\n\t\t\t  \tconsole.log(err)\r\n\t\t\t  });\r\n\t\t\t});\r\n\t\t},\r\n\t\t//删除全部\r\n\t\tdeclectAll (){\r\n\t\t\tconst _self = this;\r\n\t\t\tvar ele = document.getElementsByName(\"collect_item\");\r\n\t\t\tvar delList = [];\r\n\t\t\tvar delIndex = [];\r\n\t\t\tfor (var i = 0; i < ele.length; i++) {\r\n\t\t\t\t//当前选中的index\r\n\t\t\t\tif(ele[i].checked){\t\r\n\t\t\t\t\t// console.log(i)\r\n\t\t\t\t  \t// delList.push(_self.list[i].favoriteID);\r\n\t\t\t\t  \tdelList.push(_self.list[i].favoriteID);\r\n\t\t\t\t  \tdelIndex.push(ele[i].value);\r\n\t\t\t\t  \t// console.log(ele[i])\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( delList.length === 0 ){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.flag){return}\r\n\t\t\tthis.flag = true;\r\n\t\t\tMessageBox.confirm('确定执行此操作?').then(action => {\r\n\t\t\t\tif( delList.length <= 0 ){_self.flag = false;return}\r\n\t\t\t\t_self.$ajax({\r\n\t\t\t\t\turl: _self.webRoot + '/favorite/delFavorite',\r\n\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\tmemberId: _self.$store.state.memberId,\r\n\t\t\t\t\t\tfavoriteIds: delList,\r\n\t\t\t\t\t}),\r\n\t\t\t\t\theaders: {'Content-Type' : 'application/json;charset=utf-8'},\r\n\t\t\t\t\ttransformRequest: [function (data) {\r\n\t\t\t\t\t\t\treturn data\r\n\t\t\t\t\t}]\r\n\t\t\t\t})\r\n\t\t\t\t.then(function(res){\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tif( !res.data.success ){\r\n\t\t\t\t\t\t_self.$options.methods.showToast(res.data.msg);\r\n\t\t\t\t\t\t_self.flag = false;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// for(let i=0; i<delIndex.length; i++){\r\n\t\t\t\t\t// \tlet index = delIndex[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// \tele[index].checked = false;\r\n\t\t\t\t\t// \t_self.list.splice(index,1);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t// _self.$options.methods.showToast(res.data.msg);\r\n\t\t\t\t\t_self.flag = false;\r\n\t\t\t\t\t// _self.$router.replace('/myinfo/collect');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(err){\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(function(err){\r\n\t\t\t\t_self.flag = false;\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t});\t\r\n\t\t},\r\n\r\n\t\t//公共函数\r\n\t    //显示提示信息\r\n\t    showToast( msg, time ){\r\n\t      var time = time ? time : 2000;\r\n\r\n\t      Toast({\r\n\t        message: msg,\r\n\t        position: 'center',\r\n\t        duration: time\r\n\t      });     \r\n\t    },\r\n\t},\r\n}\t\r\n</script>\r\n\r\n<style scoped>\r\n@import '../../../static/css/childre_wrap.css';\r\n@import './Css/c_style.css';\r\n@import './Css/collect.css';\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Myinfo/Collect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"wrap has_header_wrap c_wrap\"},[_c('com-header',{attrs:{\"titles\":\"我的收藏\"}},[_c('template',{slot:\"style-def\"})],2),_vm._v(\" \"),_c('div',{staticClass:\"collect_count d_flex\",class:_vm.editHtml=='完成'?'edit':''},[_c('div',[_c('label',{attrs:{\"ischeckbox\":\"\"}},[_c('input',{attrs:{\"id\":\"chooseAll\",\"type\":\"checkbox\"},on:{\"click\":_vm.chooseAll}}),_vm._v(\" \"),_c('i'),_vm._v(\" \"),_c('span',[_vm._v(\"收藏共\"+_vm._s(_vm.list.length)+\"件\")])])]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.edit}},[_vm._v(_vm._s(_vm.editHtml))])]),_vm._v(\" \"),_c('div',{staticClass:\"collect_list\",class:{hpd: _vm.showBtnDelect}},[_c('div',{staticClass:\"lists\"},[_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"10\"}},_vm._l((_vm.list),function(lt,index){return _c('li',{staticClass:\"d_flex\"},[_c('div',{staticClass:\"left d_flex\"},[_c('label',{attrs:{\"ischeckbox\":\"\"}},[_c('input',{attrs:{\"name\":\"collect_item\",\"type\":\"checkbox\"},domProps:{\"value\":index},on:{\"click\":_vm.clickInput}}),_vm._v(\" \"),_c('i')])]),_vm._v(\" \"),_c('div',{staticClass:\"right d_flex\"},[_c('div',{staticClass:\"c_img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(lt.product?lt.product.photodURL:'erro'),expression:\"lt.product?lt.product.photodURL:'erro'\"}],attrs:{\"alt\":lt.product.productName}})]),_vm._v(\" \"),_c('router-link',{staticClass:\"c_info\",attrs:{\"to\":{path:'/product_detail',query:{proid:lt.product.productID}}}},[_c('p',[_vm._v(_vm._s(lt.product.productName))]),_vm._v(\" \"),_c('span',{staticClass:\"spec\"},[_vm._v(_vm._s(lt.product.spec))]),_vm._v(\" \"),_c('h3',{staticClass:\"r_color\"},[_vm._v(_vm._s(_vm._f(\"priceFilter\")(lt.product.ourPrice)))])]),_vm._v(\" \"),_c('div',{staticClass:\"btn_delect\"},[(_vm.showBtnDelect)?_c('button',{staticClass:\"btn_delect\",on:{\"click\":function($event){_vm.btnDelectOne(lt,index)}}}):_vm._e()])],1)])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoadAnimate),expression:\"showLoadAnimate\"}],attrs:{\"id\":\"loadAnimate\"}},[_c('div',[_c('mt-spinner',{attrs:{\"type\":\"snake\",\"color\":\"#ddd\"}})],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isNothing),expression:\"!isNothing\"}],attrs:{\"id\":\"nothing\"}},[_c('p',[_c('span',[_vm._v(\"收藏夹还空空如也哦\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/product\"}},[_vm._v(\"去逛逛\")])],1)]),_vm._v(\" \"),(_vm.showBtnDelect)?_c('div',{staticClass:\"delect_block\"},[_c('mt-button',{attrs:{\"type\":\"default\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.declectAll}},[_vm._v(\"删除\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-47798018\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Myinfo/Collect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47798018\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./Collect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Collect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Collect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47798018\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Collect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47798018\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Myinfo/Collect.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}