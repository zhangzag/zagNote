{"version":3,"sources":["webpack:///src/components/Search/Search.vue","webpack:///./src/components/Search/Search.vue?3df7","webpack:///./src/components/Search/Search.vue"],"names":["Search","name","data","isUnscRollable","backParentPage","searchCon","hotSear","historyList","localStorage","searchhistorelist","JSON","parse","hotSearchs","props","components","mt-header","mint_ui_common","mt-button","mt-badge","comFoot","ComFoot","comHeaderTitle","ComHeaderTitle","created","_self","this","productTypeID","$route","query","hotByIdTwo","parentTypeId","hotByIdOne","searchType","$ajax","url","webRoot","endDate","_global","curDate","type","isValid","then","res","datas","success","length","i","searchID","y","dataType","push","catch","error","console","log","mounted","$emit","updated","$nextTick","destroyed","methods","searchTextFilter","productTypeName","productName","brandName","changeClassOne","isChildDestroyed","jumpSearch","hs","index","hisList","forEach","value","arr","splice","unshift","stringify_default","level","$router","replace","path","ptId","productTypeId","ptIdOne","proid","productID","clearHistory","Search_Search","render","_vm","_h","$createElement","_c","staticClass","class","unscrollable","attrs","titles","slot","_v","action","directives","rawName","expression","modifiers","trim","placeholder","domProps","on","input","$event","target","composing","blur","$forceUpdate","click","_m","_l","href","_s","hl","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.485c387d569eba730ad0.js","sourcesContent":["<template>\r\n\t<section class=\"wrap has_header_wrap search_wrap\">\r\n\t\t<section class=\"wrap_in\" :class=\"{ unscrollable: isUnscRollable }\">\r\n\t\t\t<!-- 头部标题 -->\r\n\t\t\t<com-header titles=\"搜索\">\r\n\t\t\t\t<template  slot=\"style-def\"></template>\r\n\t\t\t</com-header>\r\n\t\t\t<!-- 头部标题 end -->\r\n\t\t\t\r\n\t\t\t<!-- 搜索框 -->\r\n\t\t\t<div class=\"search_from\">\r\n\t\t\t\t<form class=\"d_flex\" action=\"javascript:;\">\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"请输入搜索关键字\" v-model.trim=\"searchCon\">\r\n\t\t\t\t\t<button @click=\"jumpSearch('topSearch')\">搜索</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<!-- 搜索框 end -->\r\n\t\t\t<!-- 热门搜索 -->\r\n\t\t\t<div class=\"hot_search\" v-show=\"hotSearchs.length\">\r\n\t\t\t\t<div class=\"border_h\">\r\n\t\t\t\t\t<span>热门搜索</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"lists\">\r\n\t\t\t\t\t<!-- <a \r\n\t\t\t\t\t\tv-for=\"(hs,index) in hotSear\" \r\n\t\t\t\t\t\t@click=\"jumpSearch('hotSearch', hs, index)\"\r\n\t\t\t\t\t\thref=\"javscript:;\">{{ hs.searchName }}</a> -->\r\n\t\t\t\t\t<a \r\n\t\t\t\t\t\tv-for=\"(hs,index) in hotSearchs\" \r\n\t\t\t\t\t\t@click=\"jumpSearch('hotSearch', hs, index)\"\r\n\t\t\t\t\t\thref=\"javscript:;\">{{ searchTextFilter(hs) }}</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 热门搜索 end -->\r\n\t\t\t<!-- 历史搜索 -->\r\n\t\t\t<div class=\"hot_search history_search\" v-show=\"historyList.length>0\">\r\n\t\t\t\t<div class=\"border_h\">\r\n\t\t\t\t\t<span>历史搜索</span>\r\n\t\t\t\t\t<button @click=\"clearHistory\">清除历史记录</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"lists\">\r\n\t\t\t\t\t<a \r\n\t\t\t\t\t\tv-for=\"(hl,index) in historyList\" \r\n\t\t\t\t\t\t@click=\"jumpSearch('historySearch', hl, index)\"\r\n\t\t\t\t\t\thref=\"javscript:;\">{{ hl }}</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 历史搜索 end -->\r\n\t\t</section>\r\n\r\n\t\t<!-- 子页面 -->\r\n\t    <!-- <transition name=\"fade\">\r\n\t    \t<router-view v-on:changeClass=\"changeClassOne\"></router-view>\r\n\t    </transition> -->\r\n\t    <!-- 子页面 end -->\r\n\t</section>\r\n</template>\r\n<script>\r\nimport { Header, Button, Badge } from 'mint-ui';\r\nimport comHeaderTitle from '@/components/Common/ComHeaderTitle'\r\nimport comFoot from '@/components/Common/ComFoot';\r\n\r\nexport default {\r\n\tname: 'myinfo',\r\n\tdata() {\r\n\t\treturn {\r\n\t      isUnscRollable: false, //是否页面不可滚动\r\n\t      backParentPage: false, //是否回到父页面\r\n\t      searchCon: '',//搜索内容\r\n\t      hotSear: '', //热门搜索\r\n\t      historyList: localStorage.searchhistorelist?JSON.parse( localStorage.searchhistorelist ):'',//搜索历史\r\n\t      hotSearchs: [],//热门品牌\r\n\t\t}\r\n\t},\r\n\tprops: [\r\n\t\t// 'pclass',\r\n\t],\r\n\tcomponents: {\r\n\t\t'mt-header': Header,\r\n\t\t'mt-button': Button,\r\n\t\t'mt-badge':  Badge,\r\n\t\tcomFoot, // 公共底部\r\n\t\tcomHeaderTitle, // 公共头部标题\r\n\t},\r\n\tcreated : function(){\r\n\t\tconst _self = this;\r\n\t\t//按分类来获取热门搜索\r\n\t\tvar productTypeID = this.$route.query.hotByIdTwo || '';//二级\r\n\t\tvar parentTypeId = this.$route.query.hotByIdOne || '';//一级\r\n\t\tvar searchType = productTypeID?productTypeID:parentTypeId;\r\n\r\n\t\t//获取热门搜索 \r\n\t\tthis.$ajax({\r\n\t\t\turl: _self.webRoot + '/getHotSearchByProductTypeID',\r\n\t\t\tdata: {\r\n\t\t\t\tendDate: _self._global.curDate,//格式为 2018-05-26 00:00:00\r\n\t\t\t\tproductTypeID: searchType,//格式为 int    可为空，为空时返回首页下的热门搜索\r\n\t\t\t\ttype: '',//格式为 int   1、分类 2、商品 3、品牌   可为空，为空时返回3种类型的热门搜索\r\n\t\t\t\tisValid: 1,//格式为 string\t1、有效  0、无效\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then(function(res){\r\n\t\t\t// console.log('获取热门搜索: ', res)\r\n\t\t\tvar datas = res.data.data;\r\n\r\n\t\t\tif( res.data.success && datas.length>0 ){\r\n\t\t\t\t// _self.hotSear = res.data.data;\r\n\t\t\t\tfor( let i=0; i<datas.length; i++ ){\r\n\t\t\t\t\t//品牌热门搜索 \r\n\t\t\t\t\tif( datas[i].type === 3 ){\r\n\t\t\t\t\t\t_self.$ajax({\r\n\t\t\t\t\t\t\turl: _self.webRoot + '/getHSDetailByParams',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tendDate: _self._global.curDate, //格式为 2018-05-26 00:00:00\r\n\t\t\t\t\t\t\t\tsearchID: datas[i].searchID, //格式为 int\r\n\t\t\t\t\t\t\t\ttype: datas[i].type, //1、分类 2、商品 3、品牌   \r\n\t\t\t\t\t\t\t\tisValid: 1, //格式为 string\t1、有效  0、无效\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(res) {\r\n\t\t\t\t\t\t\t// console.log(\"热门搜索-按品牌：\", res);\r\n\t\t\t\t\t\t\tif( res.data.success && res.data.data.length>0 ){\r\n\t\t\t\t\t\t\t\tfor( let y=0; y<res.data.data.length; y++ ){\r\n\t\t\t\t\t\t\t\t\tres.data.data[y].dataType = 3;\r\n\t\t\t\t\t\t\t\t\t_self.hotSearchs.push( res.data.data[y] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t\t//分类热门搜索 \r\n\t\t\t\t\tif( datas[i].type === 1 ){\r\n\t\t\t\t\t\t_self.$ajax({\r\n\t\t\t\t\t\t\turl: _self.webRoot + '/getHSDetailByParams',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tendDate: _self._global.curDate, //格式为 2018-05-26 00:00:00\r\n\t\t\t\t\t\t\t\tsearchID: datas[i].searchID, //格式为 int\r\n\t\t\t\t\t\t\t\ttype: datas[i].type, //1、分类 2、商品 3、品牌   \r\n\t\t\t\t\t\t\t\tisValid: 1, //格式为 string\t1、有效  0、无效\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(res) {\r\n\t\t\t\t\t\t\t// console.log(\"热门搜索-按搜索 ：\", res);\r\n\t\t\t\t\t\t\tif( res.data.success && res.data.data.length>0 ){\r\n\t\t\t\t\t\t\t\tfor( let y=0; y<res.data.data.length; y++ ){\r\n\t\t\t\t\t\t\t\t\tres.data.data[y].dataType = 1;\r\n\t\t\t\t\t\t\t\t\t_self.hotSearchs.push( res.data.data[y] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t\t//商品热门搜索 \r\n\t\t\t\t\tif( datas[i].type === 2 ){\r\n\t\t\t\t\t\t_self.$ajax({\r\n\t\t\t\t\t\t\turl: _self.webRoot + '/getHSDetailByParams',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tendDate: _self._global.curDate, //格式为 2018-05-26 00:00:00\r\n\t\t\t\t\t\t\t\tsearchID: datas[i].searchID, //格式为 int\r\n\t\t\t\t\t\t\t\ttype: datas[i].type, //1、分类 2、商品 3、品牌   \r\n\t\t\t\t\t\t\t\tisValid: 1, //格式为 string\t1、有效  0、无效\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(res) {\r\n\t\t\t\t\t\t\t// console.log(\"热门搜索-按商品 ：\", res);\r\n\t\t\t\t\t\t\tif( res.data.success && res.data.data.length>0 ){\r\n\t\t\t\t\t\t\t\tfor( let y=0; y<res.data.data.length; y++ ){\r\n\t\t\t\t\t\t\t\t\tres.data.data[y].dataType = 2;\r\n\t\t\t\t\t\t\t\t\t_self.hotSearchs.push( res.data.data[y] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t// console.log('_self.hotSearchs: ', _self.hotSearchs)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(function(error){\r\n\t\t\tconsole.log(error)\r\n\t\t});\r\n\t},\r\n\tmounted : function() {\r\n\t\tconst _self = this;\r\n\t\tthis.$emit('changeClass',false);\r\n\t\t// console.log('localStorage.searchhistorelist: ', localStorage.searchhistorelist = '')\r\n\t},\r\n\tupdated (){\r\n\t    this.$nextTick(function () {\r\n\t      if( !this.backParentPage ){\r\n\t        this.isUnscRollable = true;\r\n\t      }\r\n\t    }) \r\n\t},\r\n\tdestroyed (){\r\n\t\tthis.$emit('changeClass',true);\r\n\t},\r\n  \tmethods: {\r\n  \t\t//过滤得到热门搜索\r\n  \t\tsearchTextFilter ( data ){\r\n  \t\t\t// dataType: 1 - 分类。2 - 商品。3 - 品牌\r\n  \t\t\tif( !data ){ return ''; };\r\n\r\n  \t\t\t//分类\r\n  \t\t\tif( data.dataType === 1 ){\r\n  \t\t\t\treturn data.productTypeName;\r\n  \t\t\t}\r\n  \t\t\t//商品\r\n  \t\t\telse if( data.dataType === 2 ){\r\n  \t\t\t\treturn data.productName;\r\n  \t\t\t}\r\n  \t\t\t//品牌\r\n  \t\t\telse {\r\n  \t\t\t\treturn data.brandName;\r\n  \t\t\t}\r\n  \t\t},\r\n\r\n\t    // 判断是否返回父页面\r\n\t    changeClassOne ( isChildDestroyed ){\r\n\t      if( isChildDestroyed ){ \r\n\t        //退出子页面\r\n\t        this.backParentPage = true; //返回首页\r\n\t        this.isUnscRollable = false;\r\n\t      }else{\r\n\t        //没退出子页面\r\n\t        this.backParentPage = false; // 没返回首页\r\n\t        this.isUnscRollable = true;\r\n\t      }\r\n\t    },\r\n\t    //搜索\r\n\t    jumpSearch (searchType, hs, index){\r\n\t    \tconst _self = this;\r\n\t    \tvar hisList = [];\r\n\r\n\t    \t//搜索时记录搜索历史\r\n\t    \tif( searchType == 'topSearch' && this.searchCon ){\r\n\t\t    \tif( localStorage.searchhistorelist ){\r\n\t\t    \t\thisList = JSON.parse( localStorage.searchhistorelist );\r\n\t\t    \t\t//去重\r\n\t\t    \t\thisList.forEach(function(value, index, arr){\r\n\t\t    \t\t\t// console.log(value, index, arr)\r\n\t\t    \t\t\tvalue == _self.searchCon?hisList.splice(index,1):'';\r\n\t\t    \t\t});\r\n\t\t    \t\t//保留20条数据\r\n\t\t    \t\thisList.length>20?hisList.splice(0,1):'';\r\n\t\t    \t\thisList.unshift( this.searchCon );\r\n\t\t    \t\tlocalStorage.searchhistorelist = JSON.stringify(hisList);\r\n\t\t    \t}else{\r\n\t\t    \t\thisList.unshift( this.searchCon );\r\n\t\t    \t\tlocalStorage.searchhistorelist = JSON.stringify(hisList);\r\n\t\t    \t}\r\n\t    \t}\r\n    \t\t\r\n    \t\t//热门搜索\r\n\t    \tif( searchType == 'hotSearch' ){ \r\n\t    \t\t// this.$router.replace({ path: 'product', query: { searchCon: hs.searchName } });\r\n\t    \t\t// console.log('热搜： ', hs)\r\n  \t\t\t\t// dataType: 1 - 分类。2 - 商品。3 - 品牌\r\n  \t\t\t\tif( hs.dataType === 1 ){\r\n  \t\t\t\t\tif( hs.level === 2 ){\r\n  \t\t\t\t\t\t//二级分类\r\n  \t\t\t\t\t\tthis.$router.replace({ path: 'product', query: { ptId: hs.productTypeId } });\r\n  \t\t\t\t\t}else{\r\n  \t\t\t\t\t\tthis.$router.replace({ path: 'product', query: { ptIdOne: hs.productTypeId } });\r\n  \t\t\t\t\t}\r\n  \t\t\t\t}else if( hs.dataType === 2 ){\r\n  \t\t\t\t\tthis.$router.replace({ path: 'product/product_detail', query: { proid: hs.productID } });\r\n  \t\t\t\t}else{\r\n  \t\t\t\t\tthis.$router.replace({ path: 'product', query: { searchCon: hs.brandName } });\r\n  \t\t\t\t}\r\n\t    \t\treturn false;\r\n\t    \t}\r\n\r\n\t    \t//历史搜索\r\n\t    \tif( searchType == 'historySearch' ){\r\n\t    \t\tthis.$router.replace({ path: 'product', query: { searchCon: hs } });\r\n\t    \t\treturn false;\r\n\t    \t}\r\n\r\n\t    \t//普通搜索\r\n\t    \t// this.$router.push({ path: 'product', query: { searchCon: this.searchCon } });\r\n\t    \tthis.$router.replace({ path: 'product', query: { searchCon: this.searchCon } });\r\n\t    },\r\n\t    //清除历史记录\r\n\t    clearHistory (){\r\n\t    \tthis.historyList = [];\r\n\t    \tlocalStorage.searchhistorelist = '';\r\n\t    },\r\n  \t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\t@import './Css/search.css';\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Search/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"wrap has_header_wrap search_wrap\"},[_c('section',{staticClass:\"wrap_in\",class:{ unscrollable: _vm.isUnscRollable }},[_c('com-header',{attrs:{\"titles\":\"搜索\"}},[_c('template',{slot:\"style-def\"})],2),_vm._v(\" \"),_c('div',{staticClass:\"search_from\"},[_c('form',{staticClass:\"d_flex\",attrs:{\"action\":\"javascript:;\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.searchCon),expression:\"searchCon\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入搜索关键字\"},domProps:{\"value\":(_vm.searchCon)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchCon=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.jumpSearch('topSearch')}}},[_vm._v(\"搜索\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hotSearchs.length),expression:\"hotSearchs.length\"}],staticClass:\"hot_search\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"lists\"},_vm._l((_vm.hotSearchs),function(hs,index){return _c('a',{attrs:{\"href\":\"javscript:;\"},on:{\"click\":function($event){_vm.jumpSearch('hotSearch', hs, index)}}},[_vm._v(_vm._s(_vm.searchTextFilter(hs)))])}))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.historyList.length>0),expression:\"historyList.length>0\"}],staticClass:\"hot_search history_search\"},[_c('div',{staticClass:\"border_h\"},[_c('span',[_vm._v(\"历史搜索\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.clearHistory}},[_vm._v(\"清除历史记录\")])]),_vm._v(\" \"),_c('div',{staticClass:\"lists\"},_vm._l((_vm.historyList),function(hl,index){return _c('a',{attrs:{\"href\":\"javscript:;\"},on:{\"click\":function($event){_vm.jumpSearch('historySearch', hl, index)}}},[_vm._v(_vm._s(hl))])}))])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"border_h\"},[_c('span',[_vm._v(\"热门搜索\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-f60bdddc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Search/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f60bdddc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f60bdddc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f60bdddc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}