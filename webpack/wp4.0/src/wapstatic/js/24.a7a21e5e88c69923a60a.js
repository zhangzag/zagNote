webpackJsonp([24],{Uf0Q:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3cXf"),o=s.n(a),i=s("AG0B"),d=(s("AEmT"),s("wSez")),n={name:"info",data:function(){return{addList:[],urlParam:this.$route.query.form}},components:{comHeaderTitle:i.a,"mt-checklist":d.Checklist,"mt-button":d.Button},filters:{},created:function(){var t=this;this.$ajax({method:"get",url:t.webRoot+"/delivery/getDeliveryAddress?memberId="+t.$store.state.memberId}).then(function(e){0===e.data.length&&console.log("没有地址"),t.addList=e.data}).catch(function(t){console.log(t)})},mounted:function(){this.$emit("changeClass",!1)},destroyed:function(){this.$emit("changeClass",!0)},methods:{selectAddress:function(t,e){this.urlParam&&(this.$store.commit("addBbuyProductAdd",t),sessionStorage.addBbuyProductAdd=o()(t),this.$router.go(-1))},jumpAdd:function(t,e){e>=0&&this.$store.commit("editAddressInfo",t),this.$router.push({path:"/myinfo/add_address",query:{addressId:t.addressID}})},setDefaultAdd:function(t,e){this.$ajax({url:this.webRoot+"/delivery/isDefualt",data:{memberID:this.$store.state.memberId,addressID:t.addressID,isDefault:1}}).then(function(t){location.reload()}).catch(function(t){console.log(t)})},delAdd:function(t,e){var s=this;d.MessageBox.confirm("确定执行此操作?").then(function(a){s.$ajax({url:s.webRoot+"/delivery/delDeliveryAddress",data:{memberID:s.$store.state.memberId,addressID:t.addressID}}).then(function(t){t.data.success?(s.$options.methods.showToast("删除成功!"),s.addList.splice(e,1),setTimeout(function(){location.reload()},1e3)):(s.$options.methods.showToast("删除失败!"),setTimeout(function(){location.reload()},1e3))}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},showToast:function(t,e){e=e||2e3;Object(d.Toast)({message:t,position:"center",duration:e})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"wrap has_header_wrap c_wrap"},[s("com-header",{attrs:{titles:"收货地址"}},[s("template",{slot:"style-def"})],2),t._v(" "),s("div",{staticClass:"address_list"},t._l(t.addList,function(e,a){return s("div",{staticClass:"item"},[s("div",{staticClass:"item_top",on:{click:function(s){t.selectAddress(e,a)}}},[s("div",{staticClass:"d_flex"},[s("span",[t._v(t._s(e.contactMan))]),t._v(" "),s("span",[t._v(t._s(e.mobile))])]),t._v(" "),s("p",[t._v(t._s(e.address))])]),t._v(" "),s("div",{staticClass:"item_bottom d_flex"},[s("div",{staticClass:"btns"},[s("a",{staticClass:"inline_block",on:{click:function(s){t.jumpAdd(e,a)}}},[t._v("编辑")]),t._v(" "),s("a",{staticClass:"inline_block",attrs:{href:"javascript:;"},on:{click:function(s){t.delAdd(e,a)}}},[t._v("删除")])]),t._v(" "),s("div",{staticClass:"default_add"},[s("label",{attrs:{isradio:""}},[s("input",{attrs:{type:"radio",name:"defaultAdd"},domProps:{checked:e.isDefault,value:a},on:{click:function(s){t.setDefaultAdd(e,a)}}}),t._v(" "),s("i"),t._v(" "),s("span",[t._v("默认地址")])])])])])})),t._v(" "),s("button",{staticClass:"foot_btn",on:{click:t.jumpAdd}},[s("i",{staticClass:"icons_add"}),s("span",[t._v("添加新地址")])])],1)},staticRenderFns:[]};var r=s("vSla")(n,c,!1,function(t){s("kVea")},"data-v-5bb0216e",null);e.default=r.exports},kVea:function(t,e){}});
//# sourceMappingURL=24.a7a21e5e88c69923a60a.js.map